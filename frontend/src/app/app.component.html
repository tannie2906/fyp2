<div class="home-page">
  <div class="header">
    <!-- Title -->
    <h1 class="title">SecureShare</h1>
    
    <!-- Search Bar -->
    <div class="search-container">
      <input 
        [(ngModel)]="query"
        type="text"
        class="search-input"
        placeholder="Search files or folders..." />
      <button class="search-button" (click)="search()">üîç</button>
    </div>    

    <!-- Profile Picture as Login Button -->
    <div class="profile-picture-container">
      <button class="profile-button" (click)="toggleDropdown()">
        <img 
          *ngIf="profilePictureUrl; else defaultProfile" 
          [src]="profilePictureUrl" 
          alt="Profile Picture" 
          class="profile-picture" />
        <ng-template #defaultProfile>
          <img src="assets/images/profile.png" alt="Default Profile" class="profile-picture" />
        </ng-template>
      </button>
      <div *ngIf="dropdownVisible" class="dropdown-menu">
        <button *ngIf="!isAuthenticated" (click)="onLogin()">Login</button>
        <button *ngIf="isAuthenticated" (click)="onProfileClick()">Profile</button>
        <button *ngIf="isAuthenticated" (click)="onLogout()">Logout</button>
        <button *ngIf="isAuthenticated" (click)="goToSettings()">Settings</button>
      </div>
    </div>
  </div>

  <!-- Navbar -->
  <nav class="navbar">
    <a routerLink="/home" class="home-button">Home</a>
    <a routerLink="/folder" class="folder-button">Folder</a>
    <a routerLink="/delete" class="delete-button">Bin</a> 
    <div class="profile-dropdown">
      <a routerLink="/profile" class="profile-button">Profile</a>
      <div class="dropdown-content">
        <a routerLink="/manage-account" class="manage-account-button">Manage Account</a>
        <a routerLink="/settings" class="settings-button">Settings</a>
        <a href="#" class="logout-button" (click)="onLogout()">Logout</a>
      </div>
    </div>
  </nav>

  <!-- Search Results -->
  <div *ngIf="searchResults.length > 0" class="search-results">
    <h3>Search Results:</h3>
    <ul>
      <li *ngFor="let file of searchResults">
        <strong>{{ file.file_name }}</strong> ({{ file.size }} bytes)
      </li>
    </ul>
  </div>

  <!-- Routed Components -->
  <router-outlet></router-outlet>

</div>